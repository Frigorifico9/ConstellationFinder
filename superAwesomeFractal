import numpy as np
from matplotlib import pyplot as plt

def QollatzF(q,n,maxStep):
    steps = 0
    sequence = [n]
    while steps<maxStep:
        if n%2 == 0:
            n=n//2
        elif n%2 ==1:
            n=q*n+1
        steps += 1
        if n in sequence:
            return steps
        sequence.append(n)
    return steps

maxQ = 1025
maxN = 100
maxStep = 100
img = []
for i in range(0,maxQ):
    q=2*i+1
    steps = []
    for n in range(0,maxN):
        steps.append(QollatzF(q,n,maxStep))
    img.append(steps)

imgNP = np.array(img,int)

plt.imshow(imgNP,interpolation='none')
plt.xlabel('N')
plt.ylabel('Q')
plt.show()
